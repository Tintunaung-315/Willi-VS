<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Be My Valentine</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#ff9a9e;
      --bg2:#fecfef;
      --card:#fff7fb;
      --accent:#ff385c;
      --muted:#7a4b59;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      background: linear-gradient(135deg,var(--bg1),var(--bg2));
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow:hidden;
    }

    /* floating hearts background */
    .hearts {
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:0;
    }
    .heart {
      position:absolute;
      width:24px;
      height:24px;
      transform:rotate(-45deg);
      left:50%;
      top:50%;
      opacity:0.9;
      filter:drop-shadow(0 6px 10px rgba(0,0,0,0.06));
    }
    .heart:before,
    .heart:after{
      content:"";
      position:absolute;
      width:24px; height:24px;
      border-radius:50%;
      background:var(--accent);
    }
    .heart:before{top:-12px; left:0}
    .heart:after{left:12px; top:0}

    /* random sizes/animations via nth-child */
    .heart.n1{width:18px;height:18px;animation:float 10s linear infinite; left:8%; top:85%}
    .heart.n2{width:26px;height:26px;animation:float 12s linear infinite; left:20%; top:90%}
    .heart.n3{width:20px;height:20px;animation:float 9s linear infinite; left:35%; top:80%}
    .heart.n4{width:30px;height:30px;animation:float 14s linear infinite; left:50%; top:88%}
    .heart.n5{width:22px;height:22px;animation:float 11s linear infinite; left:65%; top:83%}
    .heart.n6{width:16px;height:16px;animation:float 13s linear infinite; left:80%; top:92%}
    .heart.n7{width:28px;height:28px;animation:float 10s linear infinite; left:90%; top:85%}
    .heart.n8{width:24px;height:24px;animation:float 16s linear infinite; left:10%; top:60%}
    .heart.n9{width:20px;height:20px;animation:float 11s linear infinite; left:25%; top:66%}
    .heart.n10{width:26px;height:26px;animation:float 12s linear infinite; left:40%; top:70%}
    @keyframes float{
      0%{transform:translateY(0) rotate(-45deg); opacity:0}
      10%{opacity:0.9}
      50%{transform:translateY(-55vh) scale(1.05) rotate(-25deg)}
      100%{transform:translateY(-110vh) rotate(15deg); opacity:0}
    }

    /* Card */
    .card {
      position:relative;
      z-index:2;
      width:100%;
      max-width:920px;
      background:linear-gradient(180deg,var(--card),rgba(255,255,255,0.9));
      border-radius:18px;
      box-shadow: 0 10px 30px rgba(124,46,71,0.18);
      padding:34px;
      display:flex;
      gap:32px;
      align-items:center;
      backdrop-filter: blur(6px);
      border:1px solid rgba(255,255,255,0.6);
    }

    .left{
      flex:1 1 420px;
      min-width:240px;
    }
    .right{
      flex:0 0 320px;
      text-align:center;
    }

    h1{
      margin:0 0 8px;
      font-family: "Playfair Display", serif;
      font-size:44px;
      color: #6b1630;
      letter-spacing:0.4px;
    }
    p.lead{
      margin:0 0 18px;
      color:var(--muted);
      font-size:16px;
      line-height:1.5;
    }

    .photo {
      height:220px;
      border-radius:14px;
      background:
        radial-gradient(circle at 30% 20%, rgba(255,255,255,0.18), transparent 20%),
        linear-gradient(120deg, rgba(255,200,220,0.25), rgba(255,160,180,0.15));
      display:flex;
      align-items:center;
      justify-content:center;
      color:#7a2a41;
      font-weight:600;
      font-size:18px;
      overflow:hidden;
      margin-top:18px;
      position:relative;
      border:1px dashed rgba(107,22,48,0.06);
    }

    .photo img{width:100%;height:100%;object-fit:cover;display:block}

    .cta-row{margin-top:20px; display:flex; gap:12px; flex-wrap:wrap}
    .btn{
      appearance:none;
      border:0;
      padding:12px 18px;
      border-radius:10px;
      cursor:pointer;
      font-weight:600;
      color:white;
      background:linear-gradient(90deg,var(--accent),#ff6f81);
      box-shadow: 0 6px 18px rgba(255,56,92,0.18);
    }
    .btn.ghost{
      background:transparent;
      color:var(--muted);
      border:1px solid rgba(122,75,89,0.08);
      box-shadow:none;
    }

    .quote{
      margin-top:16px;
      font-style:italic;
      color:#7a3a4b;
    }

    /* right column small card */
    .mini{
      background:linear-gradient(180deg,#fff,rgba(255,255,255,0.98));
      padding:18px;
      border-radius:12px;
      box-shadow:0 8px 22px rgba(124,46,71,0.08);
    }
    .mini h3{margin:0 0 6px; font-size:18px; color:#6b1630; font-family:Playfair Display}
    .mini p{margin:0 0 12px; color:var(--muted); font-size:14px}
    .gift{
      display:flex;
      gap:8px;
      align-items:center;
      justify-content:center;
    }
    .gift .box{
      width:64px;height:64px;border-radius:10px;background:linear-gradient(180deg,#ffdee7,#ffd7e6);
      display:flex;align-items:center;justify-content:center;color:#7a1630;font-weight:700;
      box-shadow:0 8px 18px rgba(122,22,50,0.08);
    }

    footer{
      position:fixed;
      left:18px;
      bottom:18px;
      z-index:3;
      color:rgba(255,255,255,0.9);
      font-size:13px;
      background:transparent;
      text-shadow:0 6px 18px rgba(107,22,48,0.18);
    }

    /* modal for message */
    .modal-backdrop{
      position:fixed; inset:0; background:rgba(0,0,0,0.4); display:none; align-items:center; justify-content:center; z-index:50;
    }
    .modal{
      width:calc(100% - 48px);
      max-width:520px;
      background:white;
      border-radius:12px;
      padding:18px;
      box-shadow:0 30px 80px rgba(107,22,48,0.28);
    }
    .modal textarea{width:100%;min-height:120px;border:1px solid #f0e6ea;padding:12px;border-radius:8px;font-size:15px;resize:vertical}
    .modal .modal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
    .small{font-size:13px;color:#6a3944}

    @media (max-width:880px){
      .card{flex-direction:column; padding:20px}
      .right{width:100%; text-align:left}
      .photo{height:200px}
    }
  </style>
</head>
<body>

  <div class="hearts" aria-hidden="true">
    <div class="heart n1"></div>
    <div class="heart n2"></div>
    <div class="heart n3"></div>
    <div class="heart n4"></div>
    <div class="heart n5"></div>
    <div class="heart n6"></div>
    <div class="heart n7"></div>
    <div class="heart n8"></div>
    <div class="heart n9"></div>
    <div class="heart n10"></div>
  </div>

  <main class="card" role="main" aria-labelledby="title">
    <section class="left">
      <h1 id="title">Be My Valentine</h1>
      <p class="lead">A little page to celebrate love — customize it with your own photo and message, then share with that special someone.</p>

      <div class="photo" id="photo">
        <!-- Replace the img src with your own photo or remove to keep gradient/placeholder -->
        <img src="https://images.unsplash.com/photo-1516685018646-5496e10b6e6f?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=2d22f3b6bcd0a7f9b6a6b4ece6d6b7da" alt="Romantic placeholder image">
      </div>

      <div class="cta-row">
        <button class="btn" id="openMsg">Write a message</button>
        <button class="btn ghost" id="download">Download as PNG</button>
      </div>

      <p class="quote">"You are my today and all of my tomorrows."</p>
    </section>

    <aside class="right">
      <div class="mini">
        <h3>Sweet Surprise</h3>
        <p>Include a photo, a short love note, or a playlist link — make it yours.</p>
        <div class="gift">
          <div class="box">♡</div>
          <div style="text-align:left">
            <div style="font-weight:600;color:#6b1630">Plan a Date</div>
            <div style="color:var(--muted);font-size:13px">Walk, dinner, or a cozy movie night.</div>
          </div>
        </div>
      </div>

      <div style="height:16px"></div>

      <div class="mini" aria-hidden="true" style="margin-top:12px;">
        <h3>Quick Share</h3>
        <p style="margin-bottom:8px">Copy a prepared message and paste into your chat or email.</p>
        <button class="btn" id="copyMsg">Copy Love Note</button>
        <div style="height:8px"></div>
        <a id="mailto" class="btn ghost" style="display:inline-block;text-decoration:none;color:inherit" href="#">Send by email</a>
      </div>
    </aside>
  </main>

  <footer>Made with ♥ — customize freely</footer>

  <!-- Modal -->
  <div class="modal-backdrop" id="modal">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <h3 id="modalTitle" style="margin:0 0 8px;font-family:Playfair Display;color:#6b1630">Write your message</h3>
      <textarea id="message">Happy Valentine's Day — thinking of you always. Will you be my Valentine?</textarea>
      <div class="modal-actions">
        <button class="btn ghost" id="closeModal">Cancel</button>
        <button class="btn" id="copyModal">Copy & Close</button>
      </div>
      <div class="small" style="margin-top:10px">Tip: After copying, paste into a message app or email. The Download button will capture the card as an image.</div>
    </div>
  </div>

  <script>
    // Elements
    const modal = document.getElementById('modal');
    const openMsg = document.getElementById('openMsg');
    const closeModal = document.getElementById('closeModal');
    const copyModal = document.getElementById('copyModal');
    const messageEl = document.getElementById('message');
    const copyMsg = document.getElementById('copyMsg');
    const mailto = document.getElementById('mailto');
    const downloadBtn = document.getElementById('download');
    const card = document.querySelector('.card');

    function openModal(){ modal.style.display='flex'; messageEl.focus(); }
    function closeModalFn(){ modal.style.display='none'; }

    openMsg.addEventListener('click', openModal);
    closeModal.addEventListener('click', closeModalFn);

    function copyText(text){
      if(navigator.clipboard && window.isSecureContext){
        return navigator.clipboard.writeText(text);
      } else {
        const ta = document.createElement('textarea');
        ta.value = text;
        ta.style.position='fixed';
        ta.style.left='-9999px';
        document.body.appendChild(ta);
        ta.select();
        try { document.execCommand('copy'); } catch(e){}
        document.body.removeChild(ta);
        return Promise.resolve();
      }
    }

    copyModal.addEventListener('click', ()=>{
      copyText(messageEl.value).then(()=>{
        closeModalFn();
        alert('Message copied — paste it into your chat or email!');
      });
    });

    copyMsg.addEventListener('click', ()=>{
      const quick = messageEl.value || "Happy Valentine's Day — thinking of you always.";
      copyText(quick).then(()=> alert('Love note copied!'));
    });

    // mailto link
    function updateMailto(){
      const subject = encodeURIComponent("A little Valentine for you");
      const body = encodeURIComponent(messageEl.value || "Happy Valentine's Day — thinking of you always.");
      mailto.href = `mailto:?subject=${subject}&body=${body}`;
    }
    messageEl.addEventListener('input', updateMailto);
    updateMailto();

    // Simple "download as PNG" using html2canvas if available, or fallback prompt
    downloadBtn.addEventListener('click', async ()=>{
      if(window.html2canvas){
        const canvas = await html2canvas(card, {backgroundColor: null, scale:2});
        const url = canvas.toDataURL('image/png');
        const a = document.createElement('a');
        a.href = url;
        a.download = 'valentine.png';
        a.click();
      } else {
        const ok = confirm('To download as an image automatically, include html2canvas. Would you like to open the html2canvas CDN doc?');
        if(ok) window.open('https://html2canvas.hertzen.com/','_blank');
      }
    });

    // Accessibility: close modal with Esc
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && modal.style.display==='flex') closeModalFn();
    });

    // Small graceful enhancement: allow replacing the photo by dropping an image
    const photo = document.getElementById('photo');
    photo.addEventListener('dragover', (e)=> e.preventDefault());
    photo.addEventListener('drop', (e)=>{
      e.preventDefault();
      const f = e.dataTransfer.files && e.dataTransfer.files[0];
      if(f && f.type.startsWith('image/')){
        const img = photo.querySelector('img') || document.createElement('img');
        const url = URL.createObjectURL(f);
        img.src = url;
        img.alt = 'Custom photo';
        if(!photo.querySelector('img')) photo.innerHTML=''; photo.appendChild(img);
      } else {
        alert('Drop an image file here to replace the photo.');
      }
    });

    // small preference: let user long-press heart decoration to pause animation
    document.querySelectorAll('.heart').forEach(h=>{
      h.addEventListener('contextmenu', (e)=>{ e.preventDefault(); h.style.animationPlayState = h.style.animationPlayState === 'paused' ? 'running' : 'paused'; });
    });
  </script>

  <!-- Note: to enable "Download as PNG" without server code, include html2canvas via:
       <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
       Then the Download button will capture the card as an image automatically.
  -->
</body>
</html> 